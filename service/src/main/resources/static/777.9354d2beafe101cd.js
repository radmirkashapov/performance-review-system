"use strict";(self.webpackChunkprs_ui=self.webpackChunkprs_ui||[]).push([[777],{1777:(A,p,e)=>{e.r(p),e.d(p,{TestsListModule:()=>M});var i=e(6012),d=e(1728),r=e(4755),l=e(3939),c=e(4660),m=e(9646),g=e(7579),f=e(2722),h=e(262),T=e(2843),L=e(4004),t=e(2223),v=e(4452),C=e(3614),x=e(5145);function y(s,o){1&s&&(t.TgZ(0,"h3",2),t._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430"),t.qZA())}function E(s,o){1&s&&t._UZ(0,"app-spinner-wrapper")}function F(s,o){if(1&s){const n=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-actions",4)(8,"button",5),t.NdJ("click",function(){const O=t.CHM(n).$implicit,$=t.oxw(3);return t.KtG($.run(O))}),t._uU(9,"\u0417\u0410\u041f\u0423\u0421\u0422\u0418\u0422\u042c"),t.qZA()()()}if(2&s){const n=o.$implicit;t.xp6(3),t.Oqu(n.name),t.xp6(3),t.Oqu(n.description)}}function I(s,o){if(1&s&&(t.ynx(0),t.YNc(1,F,10,2,"mat-card",3),t.BQk()),2&s){const n=o.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}function B(s,o){if(1&s&&(t.ynx(0),t.YNc(1,I,2,1,"ng-container",1),t.ALo(2,"async"),t.BQk()),2&s){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.tests$))}}const S=[{path:"",component:(()=>{class s{constructor(n,u,a){this.router=n,this.testService=u,this.testSessionService=a,this.tests$=(0,m.of)([]),this.isLoading=!1,this.hasError=!1,this.destroy$=new g.x}ngOnInit(){this.tests$=this.testService.tests().pipe((0,L.U)(n=>(this.isLoading=!1,n)))}run(n){this.hasError=!1,this.isLoading=!0,this.testSessionService.startSession(n.id).pipe((0,f.R)(this.destroy$),(0,h.K)(u=>(this.hasError=!0,this.isLoading=!1,(0,T._)(u)))).subscribe(u=>{const a=u.id;this.isLoading=!1,this.router.navigateByUrl(`testing/${n.id}/check-list`,{state:{testId:n.id,sessionId:a}})})}ngOnDestroy(){this.destroy$.unsubscribe()}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(c.F0),t.Y36(v.q),t.Y36(C.E))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-tests-list"]],decls:3,vars:3,consts:[["style","color: red",4,"ngIf"],[4,"ngIf"],[2,"color","red"],[4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"]],template:function(n,u){1&n&&(t.YNc(0,y,2,0,"h3",0),t.YNc(1,E,1,0,"app-spinner-wrapper",1),t.YNc(2,B,3,3,"ng-container",1)),2&n&&(t.Q6J("ngIf",u.hasError),t.xp6(1),t.Q6J("ngIf",u.isLoading),t.xp6(1),t.Q6J("ngIf",!u.isLoading))},dependencies:[i.a8,i.hq,i.dn,i.dk,i.n5,r.sg,r.O5,d.lW,x.C,r.Ov],styles:["mat-card[_ngcontent-%COMP%]{margin-bottom:15px}"]}),s})()}];let Z=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.Bz.forChild(S),c.Bz]}),s})(),M=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[Z,i.QW,r.ez,d.ot,l.G]}),s})()}}]);